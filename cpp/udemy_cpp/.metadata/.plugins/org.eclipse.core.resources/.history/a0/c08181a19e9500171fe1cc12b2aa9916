//============================================================================
// Name        : FunctionPointers2.cpp
// Author      : Ethen
// Version     :
// Copyright   : Your copyright notice
// Description : Hello World in C++, Ansi-style
//============================================================================

#include <iostream>
using namespace std;


class Parent {
public:
	// subclass runs the constructor of the parent class in order
	// to be instantiated, so when we define a subclass, we must
	// either have a default constructor in the parent class or
	// else we have to specify what constructor we wish to run;
	// so when we define our own copy constructor, we lose the implicit
	// default constructor
	Parent() {

	}

	Parent(const Parent &other) {
		cout << "copy parent" << endl;
	}

	virtual void print() {
		cout << "parent" << endl;
	}

	virtual ~Parent() {

	}
};

// when an object that was created on the stack is destroyed,
// the child class destructor is called first, then the parent class;
// thus we should make sure we have a virtual destructor so that if our
// child allocates memory and frees it in its destructor it will get called
// by the compiler
class Child: public Parent {
public:
	void print() {
		cout << "child" << endl;
	}
};

int main() {
	Child c1;
	Parent &p1 = c1;
	p1.print();

	Parent p2 = Child();
	p2.print();
	return 0;
}
